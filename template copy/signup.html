<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>SynergySource - Register</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="flex items-center justify-center min-h-screen bg-gray-100">

    <!-- Registration Form -->
    <form id="registrationForm" class="bg-white p-6 rounded-lg shadow-md w-full max-w-md space-y-6">
        <!-- First Name Field -->
        <div class="flex space-x-2">
            <div class="w-1/2">
                <label class="block text-sm font-semibold text-gray-700">First Name</label>
                <input type="text" placeholder="Enter First Name" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" id="firstName">
            </div>
            <div class="w-1/2">
                <label class="block text-sm font-semibold text-gray-700">Last Name</label>
                <input type="text" placeholder="Enter Last Name" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" id="lastName">
            </div>
        </div>

        <!-- Account Type Field -->
        <div>
            <label class="block text-sm font-semibold text-gray-700">Account Type</label>
            <select id="accountType" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" onchange="toggleCustomerFields()">
                <option value="default">select account</option>
                <option value="customer">Customer</option>
                <option value="driver">Driver</option>
                <option value="organization">Organization</option>
            </select>
        </div>

        <!-- Email Field -->
        <div>
            <label class="block text-sm font-semibold text-gray-700">Email</label>
            <input type="email" placeholder="Enter your Email" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" id="email">
        </div>

        <!-- Password Field -->
        <div>
            <label class="block text-sm font-semibold text-gray-700">Password</label>
            <input type="password" placeholder="Enter your Password" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" id="password">
        </div>

        <!-- Customer Fields (Initially Hidden) -->
        <div id="customerFields" class="hidden space-y-4">
            <div>
                <label class="block text-sm font-semibold text-gray-700">Phone Number</label>
                <input type="tel" placeholder="Enter Phone Number" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" id="phoneNumber">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700">Emergency Number</label>
                <input type="tel" placeholder="Enter Emergency Number" class="mt-1 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" id="emergencyNumber">
            </div>
        </div>

        <!-- Submit Button -->
        <button type="button" class="w-full py-2 bg-gray-800 text-white font-semibold rounded-md hover:bg-gray-900" onclick="registerUser()">Sign Up</button>

        <!-- Sign In Redirect -->
        <p class="text-center text-sm text-gray-600">Have an account? 
            <a href="login.html" class="text-blue-500 hover:underline">Sign In</a>
        </p>
    </form>

    <!-- JavaScript to handle form data -->
    <script>
        function toggleCustomerFields() {
            const accountType = document.getElementById('accountType').value;
            const customerFields = document.getElementById('customerFields');
            customerFields.classList.toggle('hidden', accountType !== 'customer');
        }

        function registerUser() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const accountType = document.getElementById('accountType').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const emergencyNumber = document.getElementById('emergencyNumber').value;
            

            localStorage.setItem('userRegistered', JSON.stringify({
                registered: true,
                firstName,
                lastName,
                accountType,
                email,
                phoneNumber,
                emergencyNumber
            }));


            console.log({ firstName, lastName, accountType, email, password, phoneNumber, emergencyNumber });

            // Redirect based on account type
            if (accountType === 'customer') {
                window.location.href = 'customer_dashboard.html';
            } else if (accountType === 'driver') {
                window.location.href = 'driver_dashboard.html';
            } else if (accountType === 'organization') {
                window.location.href = 'organization_dashboard.html';
            }
        }
    </script>
</body>

</html>
