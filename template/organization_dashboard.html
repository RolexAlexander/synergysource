<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Organization Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100">
    <div id="navbar"></div>

    <div class="container mx-auto p-6">
      <h1 class="text-2xl font-bold mb-6">Organization Dashboard</h1>

      <!-- Main Cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
        <!-- Drivers Card -->
        <a href="organization_dashboard/driver.html" class="block">
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="font-semibold text-lg text-center">Drivers</h2>
          </div>
        </a>

        <!-- Map Card -->
        <a href="organization_dashboard/map.html" class="block">
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="font-semibold text-lg text-center">Map</h2>
          </div>
        </a>

        <!-- Comments Card -->
        <a href="organization_dashboard/comments.html" class="block">
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="font-semibold text-lg text-center">Comments</h2>
          </div>
        </a>

        <!-- Blank Card -->
        <a href="organization_dashboard/driver.html" class="block">
          <div class="bg-white p-4 rounded-lg shadow-md">
            <h2 class="font-semibold text-lg text-center">Blank Card</h2>
          </div>
        </a>
      </div>

      <!-- Driver Comments Table -->
      <div class="bg-white rounded-lg shadow-md p-4">
        <h3 class="font-semibold text-lg mb-4">Driver Comments</h3>
        <table class="min-w-full border-collapse">
          <thead>
            <tr class="bg-gray-200">
              <th class="py-2 px-4 border">Driver Name</th>
              <th class="py-2 px-4 border">Comments</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b">
              <td class="py-2 px-4">John Doe</td>
              <td class="py-2 px-4">Great performance!</td>
            </tr>
            <tr class="border-b">
              <td class="py-2 px-4">Jane Smith</td>
              <td class="py-2 px-4">Needs improvement in punctuality.</td>
            </tr>
            <tr class="border-b">
              <td class="py-2 px-4">Mike Johnson</td>
              <td class="py-2 px-4">Excellent feedback from customers.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      // Function to hide elements by ID
      function hideElementById(id) {
        const element = document.getElementById(id);
        if (element) {
          element.style.display = "none";
        }
      }

      // Function to show elements by ID
      function showElementById(id) {
        const element = document.getElementById(id);
        if (element) {
          element.style.display = "block";
        }
      }

      // Fetch the navbar and check registration status
      fetch("navbar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("navbar").innerHTML = data;

          // Check user registration status
          const userRegistered = JSON.parse(
            localStorage.getItem("userRegistered")
          );
          console.log("userRegistered:", userRegistered);

          if (userRegistered && userRegistered.registered) {
            hideElementById("login-link");
            hideElementById("register-link");
            showElementById("profile-link");
          }

          // Set up mobile menu toggle functionality
          document
            .querySelectorAll("[data-collapse-toggle]")
            .forEach((button) => {
              button.addEventListener("click", function () {
                const mobileMenu = document.getElementById("mobile-menu-2");
                if (mobileMenu) {
                  mobileMenu.style.display =
                    mobileMenu.style.display === "none" ||
                    mobileMenu.style.display === ""
                      ? "block"
                      : "none";
                }
              });
            });
        })
        .catch((error) => console.error("Error loading navbar:", error));
    </script>
  </body>
</html>
